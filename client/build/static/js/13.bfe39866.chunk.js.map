{"version":3,"sources":["redux/actions/postActions.js","components/Post.js"],"names":["axios","require","default","FETCH_POST_SUCCESS","FETCH_POST_FAILURE","INFO","FETCH_PROFILE_POST_SUCCESS","FETCH_PROFILE_POST_FAILURE","FETCH_A_POST_SUCCESS","ERROR","FETCH_A_POST_FAILURE","fetch_posts","skip","dispatch","a","get","data","success","details","type","payload","fetch_profile_post","profile","params","fetch_a_post","postId","Post","title","body","category","preview","dark","useSelector","state","common","id","useParams","useDispatch","visitedPosts","post","filter","_id","useEffect","some","className","clsx","author","authorName","moment","createdAt","format","parser","content"],"mappings":"kOAAiBA,EAAUC,EAAQ,IAA3BC,QACR,EASID,EAAQ,GARVE,EADF,EACEA,mBACAC,EAFF,EAEEA,mBACAC,EAHF,EAGEA,KACAC,EAJF,EAIEA,2BACAC,EALF,EAKEA,2BACAC,EANF,EAMEA,qBAEAC,GARF,EAOEC,qBAPF,EAQED,OAGWE,EAAc,WAAe,IAAdC,EAAa,uDAAN,EACjC,8CAAO,WAAOC,GAAP,uBAAAC,EAAA,sEACkBd,EAAMe,IAAI,iCAAmCH,GAD/D,uBACGI,EADH,EACGA,KADH,SAG8BA,EAH9B,gBAGGC,EAHH,EAGGA,QAASC,EAHZ,EAGYA,QAHZ,KAKGD,EALH,QAME,IANF,SAWE,IAXF,kDAOMJ,EAAS,CACdM,KAAMhB,EACNiB,QAASF,KATV,iCAYML,EAAS,CACdM,KAAMf,KAbP,iCAgBMS,EAAS,CACdM,KAAMd,EACNe,QAAS,oDAlBV,4CAAP,uDAwBWC,EAAqB,SAAC,GAAuB,IAArBT,EAAoB,EAApBA,KAAMU,EAAc,EAAdA,QACzC,8CAAO,WAAOT,GAAP,uBAAAC,EAAA,sEACkBd,EAAMe,IAAN,0BAAqC,CAC1DQ,OAAQ,CACNX,OACAU,aAJC,uBACGN,EADH,EACGA,KADH,SAO8BA,EAP9B,gBAOGC,EAPH,EAOGA,QAASC,EAPZ,EAOYA,QAPZ,KAQGD,EARH,QASE,IATF,SAcE,IAdF,kDAUMJ,EAAS,CACdM,KAAMb,EACNc,QAASF,KAZV,iCAeML,EAAS,CACdM,KAAMZ,KAhBP,iCAmBMM,EAAS,CACdM,KAAMd,EACNe,QAAS,oDArBV,4CAAP,uDA2BWI,EAAe,SAACC,GAC3B,8CAAO,WAAOZ,GAAP,iBAAAC,EAAA,+EAEoBd,EAAMe,IAAN,yBAA4BU,IAFhD,gBAEKT,EAFL,EAEKA,KAFL,KAGKA,EAAKC,QAHV,QAII,IAJJ,QASI,IATJ,gDAKQJ,EAAS,CACdM,KAAMX,EACNY,QAASJ,EAAKE,WAPjB,gCAUQL,EAAS,CACdM,KAAMf,EACNgB,QAASJ,EAAKE,WAZjB,iCAeQL,EAAS,CACdM,KAAMV,EACNW,QAAS,mDAjBZ,0DAqBHP,EAAS,CACPM,KAAMV,EACNW,QAAS,kDAvBR,0DAAP,wD,4MCxDa,SAASM,EAAT,GAA0D,EAA1CC,MAA0C,EAAnCC,KAAmC,EAA7BC,SAA8B,IAAD,IAAnBC,eAAmB,SAC/DC,EAASC,aAAY,SAACC,GAAD,OAAWA,EAAMC,UAAtCH,KACAI,EAAOC,cAAPD,GACFtB,EAAWwB,cACXC,EAAeN,aAAY,SAACC,GAAD,OAC/BA,EAAMM,KAAKD,aAAaE,QAAO,SAACD,GAAD,OAAUA,EAAKE,MAAQN,QAGjDI,EAAP,YAAeD,EAAf,MAOA,OANAI,qBAAU,WACJJ,EAAaK,MAAK,SAACJ,GAAD,OAAUA,EAAKE,MAAQN,MAG7CtB,EAASW,YAAaW,MACrB,IAED,qBACES,UAAWC,YACT,wBACAd,EAAO,YAAc,aACrBD,GAAW,UAJf,SAOE,qBAAKc,UAAU,aAAf,SACE,oCACE,qBAAKA,UAAWC,YAAK,oCAArB,SACE,qBAAKD,UAAU,mBAAf,SACE,oBAAIA,UAAU,aAAd,SACGL,EAAOA,EAAKZ,MAAQ,gCAI3B,sBAAKiB,UAAU,gBAAf,UACE,uBAAMA,UAAU,aAAhB,wBACa,4BAAIL,EAAOA,EAAKO,OAAOC,WAAa,mBAFnD,gCAIoC,IACjCR,EAAOS,IAAOT,EAAKU,WAAWC,OAAO,OAAS,OALjD,qBAMUX,EAAOA,EAAKV,SAAW,eAGjC,qBAAKe,UAAU,YAAf,SACGL,EAAOY,YAAOZ,EAAKa,SAAW,cAAC,IAAD","file":"static/js/13.bfe39866.chunk.js","sourcesContent":["const { default: axios } = require(\"axios\");\nconst {\n  FETCH_POST_SUCCESS,\n  FETCH_POST_FAILURE,\n  INFO,\n  FETCH_PROFILE_POST_SUCCESS,\n  FETCH_PROFILE_POST_FAILURE,\n  FETCH_A_POST_SUCCESS,\n  FETCH_A_POST_FAILURE,\n  ERROR,\n} = require(\"redux/constants\");\n\nexport const fetch_posts = (skip = 0) => {\n  return async (dispatch) => {\n    const { data } = await axios.get(\"/post/fetchHomepagePosts?skip=\" + skip);\n\n    const { success, details } = await data;\n\n    switch (success) {\n      case true:\n        return dispatch({\n          type: FETCH_POST_SUCCESS,\n          payload: details,\n        });\n      case false:\n        return dispatch({\n          type: FETCH_POST_FAILURE,\n        });\n      default:\n        return dispatch({\n          type: INFO,\n          payload: \"Something went wrong while fetching the posts.\",\n        });\n    }\n  };\n};\n\nexport const fetch_profile_post = ({ skip, profile }) => {\n  return async (dispatch) => {\n    const { data } = await axios.get(`/post/fetchProfilePosts`, {\n      params: {\n        skip,\n        profile,\n      },\n    });\n    const { success, details } = await data;\n    switch (success) {\n      case true:\n        return dispatch({\n          type: FETCH_PROFILE_POST_SUCCESS,\n          payload: details,\n        });\n      case false:\n        return dispatch({\n          type: FETCH_PROFILE_POST_FAILURE,\n        });\n      default:\n        return dispatch({\n          type: INFO,\n          payload: \"Something went wrong while fetching the posts.\",\n        });\n    }\n  };\n};\n\nexport const fetch_a_post = (postId) => {\n  return async (dispatch) => {\n    try {\n      const { data } = await axios.get(`/post/fetch?id=${postId}`);\n      switch (data.success) {\n        case true:\n          return dispatch({\n            type: FETCH_A_POST_SUCCESS,\n            payload: data.details,\n          });\n        case false:\n          return dispatch({\n            type: FETCH_POST_FAILURE,\n            payload: data.details,\n          });\n        default:\n          return dispatch({\n            type: ERROR,\n            payload: \"Something went wrong while fetching the post.\",\n          });\n      }\n    } catch (error) {\n      dispatch({\n        type: ERROR,\n        payload: \"Something went wrong while fetching the post.\",\n      });\n    }\n  };\n};\n","import clsx from \"clsx\";\nimport React, { Suspense } from \"react\";\nimport Loading from \"./Loading\";\nimport \"styles/post.scss\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport parser from \"html-react-parser\";\nimport { useParams } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport { fetch_a_post } from \"redux/actions/postActions\";\nimport moment from \"moment\";\nexport default function Post({ title, body, category, preview = false }) {\n  const { dark } = useSelector((state) => state.common);\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  const visitedPosts = useSelector((state) =>\n    state.post.visitedPosts.filter((post) => post._id === id)\n  );\n\n  const [post] = visitedPosts;\n  useEffect(() => {\n    if (visitedPosts.some((post) => post._id === id)) {\n      return;\n    }\n    dispatch(fetch_a_post(id));\n  }, []);\n  return (\n    <div\n      className={clsx(\n        \"post py-4 px-1 p-md-4\",\n        dark ? \"post_dark\" : \"post_light\",\n        preview && \"border\"\n      )}\n    >\n      <div className=\"container \">\n        <article>\n          <div className={clsx(\"title-bar row align-items-start \")}>\n            <div className=\"col-12 title-row\">\n              <h1 className=\"post-title\">\n                {post ? post.title : \"Post title goes here...\"}\n              </h1>\n            </div>\n          </div>\n          <div className=\"info-row mb-3\">\n            <span className=\"author-col\">\n              Article by <b>{post ? post.author.authorName : \"Author name\"}</b>\n            </span>\n            &nbsp; &bull; &nbsp; Published on{\" \"}\n            {post ? moment(post.createdAt).format(\"LLL\") : \"Time\"} &nbsp; &bull;\n            &nbsp; {post ? post.category : \"Undefined\"}\n          </div>\n\n          <div className=\"post-body\">\n            {post ? parser(post.content) : <Loading />}\n          </div>\n        </article>\n      </div>\n    </div>\n  );\n}\n"],"sourceRoot":""}
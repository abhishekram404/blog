{"version":3,"sources":["components/Homepage.js"],"names":["FeedItem","React","lazy","HomeSidebar","Homepage","dispatch","useDispatch","useSelector","state","common","dark","isUserLoggedIn","useQuery","axios","get","isLoading","data","isError","type","ERROR","payload","className","clsx","fallback","details","length","map","post","title","tags","category","author","id","_id","createdAt"],"mappings":"qHAAA,4IAQMA,EAAWC,IAAMC,MAAK,kBAAM,+DAC5BC,EAAcF,IAAMC,MAAK,kBAAM,+DACtB,SAASE,IACtB,IAAMC,EAAWC,cACjB,EAAiCC,aAAY,SAACC,GAAD,OAAWA,EAAMC,UAAtDC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,eAEd,EAAqCC,mBAAS,iBAAiB,kBAC7DC,IAAMC,IAAI,+BADJC,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,KAUnB,OAVA,EAAyBC,SAIvBZ,EAAS,CACPa,KAAMC,QACNC,QAAS,mDAITL,EAAkB,cAAC,IAAD,IAEpB,qBACEM,UAAWC,YACT,6BACAZ,EAAO,gBAAkB,kBAH7B,SAME,qBAAKW,UAAU,qBAAf,SACE,sBAAKA,UAAU,UAAf,UACE,sBAAKA,UAAU,uBAAf,UACE,oBAAIA,UAAU,aAAd,kBACA,cAAC,WAAD,CAAUE,SAAU,cAAC,IAAD,IAApB,SACGP,EAAKA,KAAKQ,QAAQC,OAAS,EAC1BT,EAAKA,KAAKQ,QAAQE,KAAI,SAACC,GAAD,OACpB,cAAC3B,EAAD,CACE4B,MAAOD,EAAKC,MACZC,KAAMF,EAAKE,KACXC,SAAUH,EAAKG,SACfC,OAAQJ,EAAKI,OAEbC,GAAIL,EAAKM,IACTC,UAAWP,EAAKO,WAFXP,EAAKM,QAMd,+CAKLtB,GACC,sBAAKU,UAAU,iDAAf,wBAEE,oBAAIA,UAAU,cACd,cAAC,WAAD,CAAUE,SAAU,cAAC,IAAD,IAApB,SACE,cAACpB,EAAD","file":"static/js/21.3780e634.chunk.js","sourcesContent":["import React, { Suspense } from \"react\";\nimport \"styles/Homepage.scss\";\nimport clsx from \"clsx\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Loading from \"./Loading\";\nimport { useQuery } from \"react-query\";\nimport axios from \"axios\";\nimport { ERROR } from \"redux/constants\";\nconst FeedItem = React.lazy(() => import(\"./FeedItem\"));\nconst HomeSidebar = React.lazy(() => import(\"./HomeSidebar\"));\nexport default function Homepage() {\n  const dispatch = useDispatch();\n  const { dark, isUserLoggedIn } = useSelector((state) => state.common);\n\n  const { isLoading, data, isError } = useQuery(\"homepagePosts\", () =>\n    axios.get(\"/post/fetchHomepagePosts\")\n  );\n  if (isError) {\n    dispatch({\n      type: ERROR,\n      payload: \"Something went wrong while fetching the posts.\",\n    });\n  }\n\n  if (isLoading) return <Loading />;\n  return (\n    <div\n      className={clsx(\n        \"homepage px-1 px-md-4 py-4\",\n        dark ? \"homepage_dark\" : \"homepage_light\"\n      )}\n    >\n      <div className=\"container  mx-auto\">\n        <div className=\"row g-5\">\n          <div className=\"col-12 feed col-md-9\">\n            <h2 className=\"page-title\">Feed</h2>\n            <Suspense fallback={<Loading />}>\n              {data.data.details.length > 0 ? (\n                data.data.details.map((post) => (\n                  <FeedItem\n                    title={post.title}\n                    tags={post.tags}\n                    category={post.category}\n                    author={post.author}\n                    key={post._id}\n                    id={post._id}\n                    createdAt={post.createdAt}\n                  />\n                ))\n              ) : (\n                <h4>No posts</h4>\n              )}\n            </Suspense>\n          </div>\n\n          {isUserLoggedIn && (\n            <div className=\"col-md-3 sidebar-section p-3 d-none d-md-block\">\n              Quick links\n              <hr className=\"mt-2 mb-3\" />\n              <Suspense fallback={<Loading />}>\n                <HomeSidebar />\n              </Suspense>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"sourceRoot":""}
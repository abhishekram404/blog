{"version":3,"sources":["../node_modules/webpack/buildin/module.js","components/Post.js"],"names":["module","exports","webpackPolyfill","deprecate","paths","children","Object","defineProperty","enumerable","get","l","i","Post","title","body","category","preview","dark","useSelector","state","common","id","useParams","dispatch","useDispatch","useState","content","post","setPost","useQuery","axios","enabled","onSuccess","data","details","isLoading","isError","type","ERROR","payload","className","clsx","author","authorName","createdAt","moment","format","parser"],"mappings":"mFAAAA,EAAOC,QAAU,SAASD,GAoBzB,OAnBKA,EAAOE,kBACXF,EAAOG,UAAY,aACnBH,EAAOI,MAAQ,GAEVJ,EAAOK,WAAUL,EAAOK,SAAW,IACxCC,OAAOC,eAAeP,EAAQ,SAAU,CACvCQ,YAAY,EACZC,IAAK,WACJ,OAAOT,EAAOU,KAGhBJ,OAAOC,eAAeP,EAAQ,KAAM,CACnCQ,YAAY,EACZC,IAAK,WACJ,OAAOT,EAAOW,KAGhBX,EAAOE,gBAAkB,GAEnBF,I,oOCTO,SAASY,EAAT,GAA2D,IAAD,IAA1CC,EAA0C,EAA1CA,MAAOC,EAAmC,EAAnCA,KAAMC,EAA6B,EAA7BA,SAA6B,IAAnBC,eAAmB,SAC/DC,EAASC,aAAY,SAACC,GAAD,OAAWA,EAAMC,UAAtCH,KACAI,EAAOC,cAAPD,GACFE,EAAWC,cACjB,EAAsBC,mBAAS,CAAEZ,MAAO,GAAIE,SAAU,GAAIW,QAAS,KAAnE,mBAAKC,EAAL,KAAWC,EAAX,KAEA,EAA6BC,mBAC3B,eACA,kBAAMC,IAAMrB,IAAN,yBAA4BY,MAClC,CACEU,SAAUf,EACVgB,UAAW,YAAe,IAAZC,EAAW,EAAXA,KACZL,EAAQK,EAAKC,YANbC,EAAN,EAAMA,UAAWC,EAAjB,EAAiBA,QAWjB,OAAID,EACK,cAAC,IAAD,KAGLC,GACFb,EAAS,CACPc,KAAMC,QACNC,QAAS,kDAGTvB,IACFW,EAAO,CAAEd,QAAOE,WAAUW,QAASZ,IAInC,qBACE0B,UAAWC,YACT,wBACAxB,EAAO,YAAc,aACrBD,GAAW,UAJf,SAOE,qBAAKwB,UAAU,aAAf,SACE,oCACE,qBAAKA,UAAWC,YAAK,oCAArB,SACE,qBAAKD,UAAU,mBAAf,SACE,oBAAIA,UAAU,aAAd,SACGb,EAAKd,OAAS,gCAIrB,sBAAK2B,UAAU,gBAAf,UACE,uBAAMA,UAAU,aAAhB,wBACa,6BAAQ,QAAJ,EAAAb,SAAA,mBAAMe,cAAN,eAAcC,aAAc,mBAF/C,gCAIoC,IACjChB,EAAKiB,UAAYC,IAAOlB,EAAKiB,WAAWE,OAAO,OAAS,OAAQ,IALnE,oBAMwBnB,EAAKZ,UAAY,eAGzC,qBAAKyB,UAAU,YAAf,SACGb,EAAOoB,YAAOpB,EAAKD,SAAW,cAAC,IAAD","file":"static/js/13.ffd045c7.chunk.js","sourcesContent":["module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import clsx from \"clsx\";\nimport React, { useState } from \"react\";\nimport Loading from \"./Loading\";\nimport \"styles/post.scss\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport parser from \"html-react-parser\";\nimport { useParams } from \"react-router-dom\";\nimport moment from \"moment\";\nimport { useQuery } from \"react-query\";\nimport axios from \"axios\";\nimport { ERROR } from \"redux/constants\";\nexport default function Post({ title, body, category, preview = false }) {\n  const { dark } = useSelector((state) => state.common);\n  const { id } = useParams();\n  const dispatch = useDispatch();\n  let [post, setPost] = useState({ title: \"\", category: \"\", content: \"\" });\n\n  let { isLoading, isError } = useQuery(\n    \"fetchedPost\",\n    () => axios.get(`/post/fetch?id=${id}`),\n    {\n      enabled: !preview,\n      onSuccess: ({ data }) => {\n        setPost(data.details);\n      },\n    }\n  );\n\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  if (isError) {\n    dispatch({\n      type: ERROR,\n      payload: \"Something went wrong while fetching the post.\",\n    });\n  }\n  if (preview) {\n    post = { title, category, content: body };\n  }\n\n  return (\n    <div\n      className={clsx(\n        \"post py-4 px-1 p-md-4\",\n        dark ? \"post_dark\" : \"post_light\",\n        preview && \"border\"\n      )}\n    >\n      <div className=\"container \">\n        <article>\n          <div className={clsx(\"title-bar row align-items-start \")}>\n            <div className=\"col-12 title-row\">\n              <h1 className=\"post-title\">\n                {post.title || \"Post title goes here...\"}\n              </h1>\n            </div>\n          </div>\n          <div className=\"info-row mb-3\">\n            <span className=\"author-col\">\n              Article by <b>{post?.author?.authorName || \"Author name\"}</b>\n            </span>\n            &nbsp; &bull; &nbsp; Published on{\" \"}\n            {post.createdAt ? moment(post.createdAt).format(\"LLL\") : \"Time\"}{\" \"}\n            &nbsp; &bull; &nbsp; {post.category || \"Undefined\"}\n          </div>\n\n          <div className=\"post-body\">\n            {post ? parser(post.content) : <Loading />}\n          </div>\n        </article>\n      </div>\n    </div>\n  );\n}\n"],"sourceRoot":""}
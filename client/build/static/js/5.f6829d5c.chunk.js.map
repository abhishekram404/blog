{"version":3,"sources":["components/FeedItem.js"],"names":["FeedItem","title","tags","author","selfMode","id","refetchPosts","createdAt","dark","useSelector","state","common","dispatch","useDispatch","deletePostMutation","useMutation","postId","axios","delete","onSuccess","data","type","SUCCESS","payload","message","onError","error","console","log","className","clsx","to","map","tag","index","onClick","mutate","src","alt","authorName","authorUsername","moment","startOf","fromNow"],"mappings":"8FAAA,oHAoGeA,UA1FE,SAAC,GAQX,IAPLC,EAOI,EAPJA,MACAC,EAMI,EANJA,KACAC,EAKI,EALJA,OACAC,EAII,EAJJA,SACAC,EAGI,EAHJA,GACAC,EAEI,EAFJA,aACAC,EACI,EADJA,UAEQC,EAASC,aAAY,SAACC,GAAD,OAAWA,EAAMC,UAAtCH,KACFI,EAAWC,cAEXC,EAAqBC,uBACzB,SAACC,GAAD,OAAYC,IAAMC,OAAN,8BAAoCF,MAChD,CACEG,UAAW,YAAe,IAAZC,EAAW,EAAXA,KACZR,EAAS,CACPS,KAAMC,UACNC,QAASH,EAAKI,UAEhBlB,KAEFmB,QAAS,SAACC,GAAD,OAAWC,QAAQC,IAAIF,MAQpC,OACE,sBACEG,UAAWC,YACT,gCACAtB,EAAO,iBAAmB,mBAH9B,UAME,qBAAKqB,UAAU,mBACf,qBAAKA,UAAU,sBAAf,SACE,eAAC,IAAD,CAAME,GAAE,gBAAW1B,GAAnB,UACE,oBAAIwB,UAAU,wBAAd,SAAuC5B,IACvC,mBAAG4B,UAAU,sBAAb,SACG3B,GACCA,EAAK8B,KAAI,SAACC,EAAKC,GACb,OAAO,0CAAuBD,IAAZC,aAK5B,qBAAKL,UAAU,iBAAf,SACE,qBAAKA,UAAU,mCAAf,SACGzB,EACC,qCACE,wBAAQyB,UAAU,0BAAlB,kBACA,wBACEA,UAAU,qCACVM,QAAS,kBA9BHnB,EA8BoBX,OA7BtCS,EAAmBsB,OAAOpB,GADT,IAACA,GA4BR,uBAQF,qCACE,qBAAKa,UAAU,uCAAf,SACE,qBACEQ,IAAI,8DACJC,IAAI,UACJT,UAAU,kBAGd,sBAAKA,UAAU,yDAAf,UACE,sBAAMA,UAAU,cAAhB,gBAA+B1B,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAQoC,aACvC,uBAAOV,UAAU,kBAAjB,SACE,eAAC,IAAD,CAAME,GAAG,iBAAT,qBAA4B5B,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAQqC,uBAGxC,wBAAOX,UAAU,uBAAjB,UACE,cAAC,IAAD,IAAyB,IACzB,+BACGtB,GAAS,UACLkC,IAAOlC,GAAWmC,QAAQ,UAAUC,4B","file":"static/js/5.f6829d5c.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"styles/feedItem.scss\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport clsx from \"clsx\";\nimport { useMutation } from \"react-query\";\nimport axios from \"axios\";\nimport { SUCCESS } from \"redux/constants\";\nimport moment from \"moment\";\nimport { AiOutlineClockCircle } from \"react-icons/ai\";\nconst FeedItem = ({\n  title,\n  tags,\n  author,\n  selfMode,\n  id,\n  refetchPosts,\n  createdAt,\n}) => {\n  const { dark } = useSelector((state) => state.common);\n  const dispatch = useDispatch();\n\n  const deletePostMutation = useMutation(\n    (postId) => axios.delete(`/post/delete?postId=${postId}`),\n    {\n      onSuccess: ({ data }) => {\n        dispatch({\n          type: SUCCESS,\n          payload: data.message,\n        });\n        refetchPosts();\n      },\n      onError: (error) => console.log(error),\n    }\n  );\n\n  const deletePost = (postId) => {\n    deletePostMutation.mutate(postId);\n  };\n\n  return (\n    <div\n      className={clsx(\n        \"border-1  card feed-item mb-4\",\n        dark ? \"feed-item-dark\" : \"feed-item-light\"\n      )}\n    >\n      <div className=\"thumbnail-cont\"></div>\n      <div className=\"card-body post-cont\">\n        <Link to={`/post/${id}`}>\n          <h3 className=\"card-title post-title\">{title}</h3>\n          <p className=\"card-text post-body\">\n            {tags &&\n              tags.map((tag, index) => {\n                return <span key={index}>{`#${tag}`}</span>;\n              })}\n          </p>\n        </Link>\n      </div>\n      <div className=\"card-body py-1\">\n        <div className=\"row  align-items-center g-2 py-2\">\n          {selfMode ? (\n            <>\n              <button className=\"col edit-btn btn  me-1 \">Edit</button>\n              <button\n                className=\"col delete-btn btn btn-danger ms-1\"\n                onClick={() => deletePost(id)}\n              >\n                Delete\n              </button>\n            </>\n          ) : (\n            <>\n              <div className=\"col-2 col-sm-1 p-1 profile-pic-cont \">\n                <img\n                  src=\"https://avatars.dicebear.com/api/male/john.svg?mood[]=happy\"\n                  alt=\"Profile\"\n                  className=\"profile-pic\"\n                />\n              </div>\n              <div className=\"col-7 col-sm-7 px-1 px-sm-3 px-md-3 d-flex flex-column\">\n                <span className=\"author-name\">{author?.authorName}</span>\n                <small className=\"author-username\">\n                  <Link to=\"/user/abhishek\">@{author?.authorUsername}</Link>\n                </small>\n              </div>\n              <small className=\"createdAt text-right\">\n                <AiOutlineClockCircle />{\" \"}\n                <span>\n                  {createdAt &&\n                    `${moment(createdAt).startOf(\"second\").fromNow()}`}\n                </span>\n              </small>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default FeedItem;\n"],"sourceRoot":""}
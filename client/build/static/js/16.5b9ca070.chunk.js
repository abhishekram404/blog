(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[16],{381:function(e,a,s){"use strict";s.r(a),s.d(a,"default",(function(){return p}));var r=s(50),t=s(44),c=s.n(t),n=(s(1),s(23)),l=s(14),m=s(152),i=(s(382),s(153)),o=s(19),b=s(28),d=s(49),j=s(24),u=s.n(j),x=s(140),h=s.n(x),O=s(11),f=s(4);function p(){var e=Object(l.c)((function(e){return e.common})).dark,a=Object(l.b)(),s=i.c({name:i.e().min(3,"Name must be at least 3 characters long.").max(60,"Name must be maximum 30 characters long.").required("Name is required."),username:i.e().min(3,"Username must be minimum 3 characters long.").max(30,"Username must be maximum 30 characters long.").required("Username is required."),bio:i.e().max(200,"Bio must be maximum 200 characters long."),email:i.e().email("Invalid email").required("Email is required."),dob:i.b(),address:i.e()}),t={name:"",username:"",bio:"",email:"",dob:"",address:""},j=Object(b.useQuery)("profileInfo",(function(){return u.a.get("/user/fetchUserInfo")})),x=j.data,p=j.isLoading,N=j.isError,g=j.isSuccess,v=j.error;N&&console.log(v.response),g&&(Object.keys(x.data.details).map(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hasOwnProperty(a)||delete x.data.details[a];case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),t=Object.assign({},t,x.data.details,{dob:x.data.details.dob?h()(x.data.details.dob).format("YYYY-MM-DD"):""}));var y=Object(b.useMutation)(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.put("/user/update",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),{onSuccess:function(e){var s=e.data;return a({type:O.SUCCESS,payload:s.message})},onError:function(e){return console.log(e)}});return p?Object(f.jsx)(d.a,{}):Object(f.jsx)("div",{className:Object(n.a)("edit-profile  px-1 px-md-4 py-4",e?"edit-profile-dark":"edit-profile-light"),children:Object(f.jsx)("div",{className:"container",children:Object(f.jsx)(m.d,{validationSchema:s,initialValues:t,onSubmit:function(e){return function(e){y.mutate(e)}(e)},children:function(e){return Object(f.jsxs)(m.c,{className:"card p-4",children:[Object(f.jsx)("h2",{children:"Edit profile"}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(f.jsx)(m.b,{className:"form-control",name:"name"}),Object(f.jsx)("small",{className:"error-msg text-danger",children:Object(f.jsx)(m.a,{name:"name"})})]}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(f.jsx)(m.b,{className:"form-control",name:"username"}),Object(f.jsx)("small",{className:"error-msg text-danger",children:Object(f.jsx)(m.a,{name:"username"})})]}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{htmlFor:"bio",className:"form-label",children:"Bio"}),Object(f.jsx)(m.b,{className:"form-control",name:"bio"}),Object(f.jsx)("small",{className:"error-msg text-danger",children:Object(f.jsx)(m.a,{name:"bio"})})]}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(f.jsx)(m.b,{className:"form-control",name:"email",type:"email"}),Object(f.jsx)("small",{className:"error-msg text-danger",children:Object(f.jsx)(m.a,{name:"email"})})]}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{htmlFor:"dob",className:"form-label",children:"Date of birth"}),Object(f.jsx)(m.b,{className:"form-control",name:"dob",type:"date"}),Object(f.jsx)("small",{className:"error-msg text-danger",children:Object(f.jsx)(m.a,{name:"dob"})})]}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{htmlFor:"address",className:"form-label",children:"Address"}),Object(f.jsx)(m.b,{className:"form-control",name:"address"}),Object(f.jsx)("small",{className:"error-msg text-danger",children:Object(f.jsx)(m.a,{name:"address"})})]}),Object(f.jsxs)("div",{className:"",children:[Object(f.jsx)(o.b,{className:"btn me-2 cancel-btn",to:"/profile",children:"Cancel"}),Object(f.jsx)("button",{type:"submit",className:"btn btn-primary submit-btn",disabled:!e.isValid,children:"Update"})]})]})}})})})}},382:function(e,a,s){}}]);
//# sourceMappingURL=16.5b9ca070.chunk.js.map
{"version":3,"sources":["components/Posts.js"],"names":["FeedItem","React","lazy","Posts","dark","useSelector","state","common","ownId","Cookies","get","useQuery","axios","params","profile","isLoading","data","isError","isSuccess","error","refetchPosts","refetch","details","console","log","className","clsx","fallback","map","post","title","category","author","tags","id","_id","selfMode"],"mappings":"+FAAA,qJAQMA,EAAWC,IAAMC,MAAK,kBAAM,iCACnB,SAASC,IACtB,IAAQC,EAASC,aAAY,SAACC,GAAD,OAAWA,EAAMC,UAAtCH,KACFI,EAAQC,IAAQC,IAAI,UAE1B,EAOIC,mBAAS,gBAAgB,kBAC3BC,IAAMF,IAAN,0BAAqC,CACnCG,OAAQ,CACNC,QAASN,QATbO,EADF,EACEA,UACAC,EAFF,EAEEA,KACAC,EAHF,EAGEA,QACAC,EAJF,EAIEA,UACAC,EALF,EAKEA,MACSC,EANX,EAMEC,QAiBF,OARIH,IACFF,EAAOA,EAAKA,KAAKM,SAGfL,GACFM,QAAQC,IAAIL,GAGVJ,EAAkB,cAAC,IAAD,IAEpB,sBAAKU,UAAWC,YAAK,QAAStB,EAAO,aAAe,eAApD,UACE,0CACA,qBAAKqB,UAAU,iBAAf,SACE,cAAC,WAAD,CAAUE,SAAU,cAAC,IAAD,IAApB,SACGT,GACCF,EAAKY,KAAI,SAACC,GACR,OACE,cAAC7B,EAAD,CACE8B,MAAOD,EAAKC,MACZC,SAAUF,EAAKE,SACfC,OAAQH,EAAKG,OAEbC,KAAMJ,EAAKI,KACXC,GAAIL,EAAKM,IACTC,UAAU,EACVhB,aAAcA,GAJTS,EAAKM,iB","file":"static/js/21.7f1dab5f.chunk.js","sourcesContent":["import clsx from \"clsx\";\nimport React, { Suspense } from \"react\";\nimport \"styles/posts.scss\";\nimport { useSelector } from \"react-redux\";\nimport Loading from \"./Loading\";\nimport { useMutation, useQuery } from \"react-query\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\nconst FeedItem = React.lazy(() => import(\"./FeedItem\"));\nexport default function Posts() {\n  const { dark } = useSelector((state) => state.common);\n  const ownId = Cookies.get(\"userId\");\n\n  let {\n    isLoading,\n    data,\n    isError,\n    isSuccess,\n    error,\n    refetch: refetchPosts,\n  } = useQuery(\"profilePosts\", () =>\n    axios.get(`/post/fetchProfilePosts`, {\n      params: {\n        profile: ownId,\n      },\n    })\n  );\n\n  if (isSuccess) {\n    data = data.data.details;\n  }\n\n  if (isError) {\n    console.log(error);\n  }\n\n  if (isLoading) return <Loading />;\n  return (\n    <div className={clsx(\"posts\", dark ? \"posts-dark\" : \"posts-light\")}>\n      <h3>My Posts</h3>\n      <div className=\"posts-list p-3\">\n        <Suspense fallback={<Loading />}>\n          {isSuccess &&\n            data.map((post) => {\n              return (\n                <FeedItem\n                  title={post.title}\n                  category={post.category}\n                  author={post.author}\n                  key={post._id}\n                  tags={post.tags}\n                  id={post._id}\n                  selfMode={true}\n                  refetchPosts={refetchPosts}\n                />\n              );\n            })}\n        </Suspense>\n      </div>\n    </div>\n  );\n}\n"],"sourceRoot":""}
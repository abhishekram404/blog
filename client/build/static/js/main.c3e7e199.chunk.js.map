{"version":3,"sources":["redux/constants.js","utils/useDarkMode.js","redux/actions/commonActions.js","components/Navbar.js","components/ProtectedRoute.js","App.js","redux/reducers/alertReducer.js","redux/reducers/commonReducer.js","redux/reducers/postReducer.js","redux/reducers/userReducer.js","redux/reducers/rootReducer.js","redux/store.js","index.js","components/Loading.js","components/Error404.js"],"names":["TOGGLE_DARK_MODE","SEND_REGISTER_REQUEST","REGISTER_SUCCESSFUL","REGISTER_FAILED","ERROR","SUCCESS","INFO","CLEAR_ALERT","GET_AUTH_DATA","AUTHENTICATED","NOT_AUTHENTICATED","LOADING_ON","LOADING_OFF","LOGOUT","FETCH_POST_SUCCESS","FETCH_POST_FAILURE","FETCH_USER_INFO_SUCCESS","FETCH_USER_INFO_FAILURE","CLEAR_ALL","FETCH_A_POST_SUCCESS","FETCH_A_POST_FAILURE","require","useState","useEffect","toggle_dark_mode","dark","type","payload","Navbar","dispatch","useDispatch","localStorage","getItem","isDark","setDark","setItem","useDarkMode","toggle","useSelector","state","common","isUserLoggedIn","navExpanded","setNavExpanded","name","setName","resize","window","innerWidth","addEventListener","removeEventListener","useQuery","axios","get","onSuccess","data","details","enabled","Boolean","className","clsx","to","onClick","src","alt","split","role","a","post","success","message","ProtectedRoute","Component","component","rest","render","props","Homepage","React","lazy","Post","Register","Login","CreatePost","Profile","App","alert","useAlert","alertOnClose","Number","Cookies","authenticated","onClose","error","info","fallback","Loading","path","exact","Error404","alertReducer","action","commonReducer","loading","postReducer","fetchedPosts","userPosts","visitedPosts","profilePosts","userReducer","user","rootReducer","combineReducers","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","defaults","baseURL","withCredentials","queryClient","QueryClient","ReactDOM","StrictMode","client","transition","transitions","FADE","position","positions","BOTTOM_LEFT","template","AlertTemplate","timeout","offset","document","getElementById","history","useHistory","goBack"],"mappings":"6FAAA,u+BAAO,IAAMA,EAAmB,mBACnBC,EAAwB,wBACxBC,EAAsB,sBACtBC,EAAkB,kBAClBC,EAAQ,QACRC,EAAU,UACVC,EAAO,OACPC,EAAc,cACdC,EAAgB,gBAChBC,EAAgB,gBAChBC,EAAoB,oBACpBC,EAAa,aACbC,EAAc,cACdC,EAAS,SACTC,EAAqB,qBACrBC,EAAqB,qBACrBC,EAA0B,0BAC1BC,EAA0B,0BAC1BC,EAAY,YACZC,EAAuB,uBACvBC,EAAuB,wB,mOCjBpC,EAAgCC,EAAQ,GAAhCC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,UCAlB,EAMIF,EAAQ,IALVrB,EADF,EACEA,iBACAa,EAFF,EAEEA,OACAR,EAHF,EAGEA,QACAD,EAJF,EAIEA,MACAc,EALF,EAKEA,UAGWM,EAAmB,SAACC,GAG/B,MAAO,CACLC,KAAM1B,EACN2B,QAASF,I,uBCLE,SAASG,IACtB,MFPkB,WAClB,IAAMC,EAAWC,cACjB,EAA0BR,GACxB,iBAAuC,SAAjCS,aAAaC,QAAQ,UAAsB,KADnD,mBAAOC,EAAP,KAAeC,EAAf,KAaA,OALAX,GAAU,WACRQ,aAAaI,QAAQ,OAAQF,GAC7BJ,EAASL,EAAiBS,MACzB,CAACA,IAEG,CAACA,EATO,WACbC,GAASD,KEAcG,GAAzB,mBAAeC,GAAf,WAEMR,EAAWC,cACjB,EAAiCQ,aAAY,SAACC,GAAD,OAAWA,EAAMC,UAAtDf,EAAR,EAAQA,KAAMgB,EAAd,EAAcA,eAEd,EAAsCnB,oBAAS,GAA/C,mBAAOoB,EAAP,KAAoBC,EAApB,KACA,EAAwBrB,mBAAS,IAAjC,mBAAOsB,EAAP,KAAaC,EAAb,KACMC,EAAS,WACb,GAAIC,OAAOC,WAAa,IACtB,OAAOL,GAAe,GAExBA,GAAe,IAGjBpB,qBAAU,WAMR,OALIwB,OAAOC,WAAa,KACtBL,GAAe,GAEjBI,OAAOE,iBAAiB,SAAUH,GAE3B,WACLC,OAAOG,oBAAoB,SAAU,SAEtC,IACWC,mBAAS,YAAY,kBAAMC,IAAMC,IAAI,yBAAwB,CACzEC,UAAW,gBAAGC,EAAH,EAAGA,KAAH,OAAcV,EAAQU,EAAKC,QAAQZ,OAC9Ca,QAASC,QAAQjB,KAGnB,OACE,qBACEkB,UAAWC,YACT,2BACAnC,EAAO,cAAgB,gBAH3B,SAME,sBAAKkC,UAAU,YAAf,UACE,cAAC,IAAD,CAAME,GAAG,IAAIF,UAAU,eAAvB,kBAGA,wBACEA,UAAU,yBACVG,QAAS,kBAAMnB,GAAgBD,IAFjC,SAIE,cAAC,IAAD,CAAmBiB,UAAU,oBAE9BjB,GACC,qBACEiB,UAAWC,YACT,0CACAlB,GAAe,YAHnB,UAMGD,EACC,qCACE,oBAAIkB,UAAU,gBAAd,SACE,cAAC,IAAD,CACEE,GAAG,eACHF,UAAU,oCAFZ,2BAOF,oBAAIA,UAAU,gBAAd,SACE,eAAC,IAAD,CAAME,GAAG,WAAWF,UAAU,4BAA9B,UACE,qBACEI,IAAI,8DACJC,IAAI,KAEN,+BAAOpB,EAAOA,EAAKqB,MAAM,KAAK,GAAK,iBAGvC,oBACEN,UAAU,gBACVO,KAAK,SACLJ,QAAS,kBAAMjC,EDlE/B,uCAAO,WAAOA,GAAP,iBAAAsC,EAAA,+EAEoBf,IAAMgB,KAAK,gBAF/B,gBAEKb,EAFL,EAEKA,KAFL,KAGKA,EAAKc,QAHV,QAII,IAJJ,QAgBI,IAhBJ,+BAKCxC,EAAS,CACPH,KAAMb,IAERgB,EAAS,CACPH,KAAMR,IAERW,EAAS,CACPH,KAAMrB,EACNsB,QAAS4B,EAAKe,UAbjB,oCAiBCzC,EAAS,CACPH,KAAMtB,EACNuB,QAAS4B,EAAKe,UAEhBzC,EAAS,CACPH,KAAMb,IAtBT,iHA6BHgB,EAAS,CACPH,KAAMtB,EACNkE,QAAS,0BAEXzC,EAAS,CACPH,KAAMb,IAlCL,0DAAP,wDC+Dc,SAKE,wBAAQ8C,UAAU,8BAAlB,yBAMJ,qCACE,oBAAIA,UAAU,gBAAd,SACE,cAAC,IAAD,CAAME,GAAG,SAASF,UAAU,6BAA5B,qBAIF,oBAAIA,UAAU,gBAAd,SACE,cAAC,IAAD,CACEE,GAAG,YACHF,UAAU,qCAFZ,2BASN,oBACEA,UAAU,6BAEVG,QAASzB,EAHX,SAKGZ,EACC,cAAC,IAAD,CAAakC,UAAU,SAEvB,cAAC,IAAD,CAAYA,UAAU,mB,0CCnHvB,SAASY,EAAT,GAA4D,IAAvBC,EAAsB,EAAjCC,UAAyBC,EAAQ,iBAChEjC,EAAmBH,aAAY,SAACC,GAAD,OAAWA,EAAMC,UAAhDC,eAER,OACE,cAAC,IAAD,2BACMiC,GADN,IAEEC,OAAQ,SAACC,GAAD,OACLnC,EAA4C,cAAC+B,EAAD,eAAeI,IAA1C,cAAC,IAAD,CAAUf,GAAG,e,4DCejCgB,EAAWC,IAAMC,MAAK,kBAAM,kCAC5BC,EAAOF,IAAMC,MAAK,kBAAM,+DACxBE,EAAWH,IAAMC,MAAK,kBAAM,wDAC5BG,EAAQJ,IAAMC,MAAK,kBAAM,uDACzBI,EAAaL,IAAMC,MAAK,kBAAM,sEAC9BK,EAAUN,IAAMC,MAAK,kBAAM,+DAqElBM,MApEf,WACE,IAAMC,EAAQC,cACR1D,EAAWC,cACTL,EAASa,aAAY,SAACC,GAAD,OAAWA,EAAMC,UAAtCf,KACR,EAA0Ba,aAAY,SAACC,GAAD,OAAWA,EAAM+C,SAA/C5D,EAAR,EAAQA,KAAM4C,EAAd,EAAcA,QACRkB,EAAe,WACnB3D,EAAS,CAAEH,KAAMnB,iBAGnB,EAA0Ce,oBAAS,kBACjDoC,QAAQ+B,OAAOC,IAAQrC,IAAI,uBAD7B,mBAAOsC,EAAP,KAsCA,OAtCA,KAGApE,qBAAU,WACR,OAMSM,EANJ8D,EAMa,CACdjE,KAAMjB,iBANQ,CACdiB,KAAMhB,wBAQT,CAACiF,IAEJpE,qBAAU,WACR,OAAQG,GACN,KAAKrB,UACHiF,EAAMjB,QAAQC,EAAS,CACrBsB,QAASJ,IAEX,MACF,KAAKpF,QACHkF,EAAMO,MAAMvB,EAAS,CACnBsB,QAASJ,IAEX,MACF,KAAKlF,OACHgF,EAAMQ,KAAKxB,EAAS,CAClBsB,QAASJ,OAMd,CAAC9D,EAAM4C,IAGR,cAAC,IAAD,UACE,sBAAKX,UAAWC,YAAK,MAAOnC,EAAO,WAAa,aAAhD,UACE,cAACG,EAAD,IAEA,cAAC,WAAD,CAAUmE,SAAU,cAACC,EAAA,EAAD,IAApB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,IAAIC,OAAK,EAACzB,UAAWI,IACjC,cAAC,IAAD,CAAOoB,KAAK,YAAYxB,UAAWO,IACnC,cAAC,IAAD,CAAOiB,KAAK,YAAYxB,UAAWQ,IACnC,cAAC,IAAD,CAAOgB,KAAK,SAASxB,UAAWS,IAChC,cAACX,EAAD,CAAgB0B,KAAK,eAAexB,UAAWU,IAC/C,cAACZ,EAAD,CAAgB0B,KAAK,WAAWxB,UAAWW,IAC3C,cAAC,IAAD,CAAOa,KAAK,IAAIxB,UAAW0B,uB,wBC5DxBC,EA9BM,WAAoD,IAAnD7D,EAAkD,uDAA1C,CAAEb,KAAM,KAAM4C,QAAS,MAAQ+B,EAAW,uCACtE,OAAQA,EAAO3E,MACb,KAAKtB,QACH,OAAO,2BACFmC,GADL,IAEEb,KAAMtB,QACNkE,QAAS+B,EAAO1E,UAEpB,KAAKrB,OACH,OAAO,2BACFiC,GADL,IAEEb,KAAMpB,OACNgE,QAAS+B,EAAO1E,UAEpB,KAAKtB,UACH,OAAO,2BACFkC,GADL,IAEEb,KAAMrB,UACNiE,QAAS+B,EAAO1E,UAEpB,KAAKpB,cACH,MAAO,CACLmB,KAAM,KACN4C,QAAS,MAEb,QACE,OAAO/B,IC5Bb,EAOIlB,EAAQ,IANVrB,GADF,EACEA,iBACAS,GAFF,EAEEA,cACAC,GAHF,EAGEA,kBACAC,GAJF,EAIEA,WACAC,GALF,EAKEA,YACAC,GANF,EAMEA,OA8CayF,GA3CO,WAGhB,IAFJ/D,EAEG,uDAFK,CAAEd,MAAM,EAAOgB,eAAgB,MACvC4D,EACG,uCACH,OAAQA,EAAO3E,MACb,KAAK1B,GACH,OAAO,2BACFuC,GADL,IAEEd,KAAM4E,EAAO1E,UAEjB,KAAKhB,GACH,OAAO,2BACF4B,GADL,IAEEgE,SAAS,IAGb,KAAK3F,GACH,OAAO,2BACF2B,GADL,IAEEgE,SAAS,IAGb,KAAK9F,GACH,OAAO,2BACF8B,GADL,IAEEE,gBAAgB,IAGpB,KAAK/B,GAKL,KAAKG,GACH,OAAO,2BACF0B,GADL,IAEEE,gBAAgB,IAEpB,QACE,OAAOF,I,SChDb,GAKIlB,EAAQ,IAJVP,GADF,GACEA,mBACAC,GAFF,GAEEA,mBACAG,GAHF,GAGEA,UACAC,GAJF,GAIEA,qBAwCaqF,GArCK,WAOd,IANJjE,EAMG,uDANK,CACNkE,aAAc,GACdC,UAAW,GACXC,aAAc,IAEhBN,EACG,uCACH,OAAQA,EAAO3E,MACb,KAAKR,GACH,MAAO,CACLuF,aAAc,GACdG,aAAc,GACdF,UAAW,GACXC,aAAc,IAElB,KAAK7F,GACH,OAAO,2BACFyB,GADL,IAEEkE,aAAa,aAERJ,EAAO1E,WAGhB,KAAKZ,GACH,OAAOwB,EAET,KAAKpB,GACH,OAAO,2BACFoB,GADL,IAEEoE,aAAa,GAAD,oBAAMpE,EAAMoE,cAAZ,CAA0BN,EAAO1E,YAEjD,QACE,OAAOY,ICxCb,GAIIlB,EAAQ,IAHVL,GADF,GACEA,wBAEAE,IAHF,GAEED,wBAFF,GAGEC,WAoBa2F,GAjBK,WAAyB,IAAxBtE,EAAuB,uDAAf,GAAI8D,EAAW,uCAC1C,OAAQA,EAAO3E,MACb,KAAKR,GACH,MAAO,GACT,KAAKF,GACH,OAAO,2BACFuB,GADL,IAEEuE,KAAMT,EAAO1E,UAKjB,QACE,OAAOY,ICPEwE,GANKC,0BAAgB,CAClCxE,OAAQ8D,GACRhB,MAAOc,EACPhC,KAAMoC,GACNM,KAAMD,KCLFI,GAAa,CAACC,KAOLC,GALDC,sBACZL,GACAM,8BAAoBC,kBAAe,WAAf,EAAmBL,M,SCGzC7D,IAAMmE,SAASC,QACX,wDAGJpE,IAAMmE,SAASE,iBAAkB,EACjC,IAAMC,GAAc,IAAIC,cACxBC,IAASjD,OACP,cAAC,IAAMkD,WAAP,UACE,cAAC,sBAAD,CAAqBC,OAAQJ,GAA7B,SACE,cAAC,IAAD,CAAUP,MAAOA,GAAjB,SACE,cAAC,IAAD,CACEY,WAAYC,IAAYC,KACxBC,SAAUC,IAAUC,YACpBC,SAAUC,KACVC,QAAS,IACTC,OAAO,OALT,SAOE,cAAC,EAAD,YAKRC,SAASC,eAAe,U,gCClC1B,6EAIe,SAAS1C,IACtB,IAAQvE,EAASa,aAAY,SAACC,GAAD,OAAWA,EAAMC,UAAtCf,KACR,OACE,qBACEkC,UAAWC,YAAK,SAAUnC,EAAO,cAAgB,oB,gCCRvD,sEAEe,SAAS0E,IACtB,IAAMwC,EAAUC,cAEhB,OACE,qBAAKjF,UAAU,aAAf,SACE,sBAAKA,UAAU,YAAf,UACE,6CACA,6EACA,wBAAQA,UAAU,uBAAuBG,QANhC,kBAAM6E,EAAQE,UAMvB,wC","file":"static/js/main.c3e7e199.chunk.js","sourcesContent":["export const TOGGLE_DARK_MODE = \"TOGGLE_DARK_MODE\";\nexport const SEND_REGISTER_REQUEST = \"SEND_REGISTER_REQUEST\";\nexport const REGISTER_SUCCESSFUL = \"REGISTER_SUCCESSFUL\";\nexport const REGISTER_FAILED = \"REGISTER_FAILED\";\nexport const ERROR = \"ERROR\";\nexport const SUCCESS = \"SUCCESS\";\nexport const INFO = \"INFO\";\nexport const CLEAR_ALERT = \"CLEAR_ALERT\";\nexport const GET_AUTH_DATA = \"GET_AUTH_DATA\";\nexport const AUTHENTICATED = \"AUTHENTICATED\";\nexport const NOT_AUTHENTICATED = \"NOT_AUTHENTICATED\";\nexport const LOADING_ON = \"LOADING_ON\";\nexport const LOADING_OFF = \"LOADING_OFF\";\nexport const LOGOUT = \"LOGOUT\";\nexport const FETCH_POST_SUCCESS = \"FETCH_POST_SUCCESS\";\nexport const FETCH_POST_FAILURE = \"FETCH_POST_FAILURE\";\nexport const FETCH_USER_INFO_SUCCESS = \"FETCH_USER_INFO_SUCCESS\";\nexport const FETCH_USER_INFO_FAILURE = \"FETCH_USER_INFO_FAILURE\";\nexport const CLEAR_ALL = \"CLEAR_ALL\";\nexport const FETCH_A_POST_SUCCESS = \"FETCH_A_POST_SUCCESS\";\nexport const FETCH_A_POST_FAILURE = \"FETCH_A_POST_FAILURE\";\n","import { useDispatch } from \"react-redux\";\nimport { toggle_dark_mode } from \"redux/actions/commonActions\";\n\nconst { useState, useEffect } = require(\"react\");\n\nconst useDarkMode = () => {\n  const dispatch = useDispatch();\n  const [isDark, setDark] = useState(\n    () => localStorage.getItem(\"dark\") === \"true\" || false\n  );\n\n  const toggle = () => {\n    setDark(!isDark);\n  };\n\n  useEffect(() => {\n    localStorage.setItem(\"dark\", isDark);\n    dispatch(toggle_dark_mode(isDark));\n  }, [isDark]);\n\n  return [isDark, toggle];\n};\n\nexport { useDarkMode };\n","import axios from \"axios\";\nimport { useDarkMode } from \"utils/useDarkMode\";\n\nconst {\n  TOGGLE_DARK_MODE,\n  LOGOUT,\n  SUCCESS,\n  ERROR,\n  CLEAR_ALL,\n} = require(\"redux/constants\");\n\nexport const toggle_dark_mode = (dark) => {\n  //  const [isDark, toggle ] = useDarkMode()\n\n  return {\n    type: TOGGLE_DARK_MODE,\n    payload: dark,\n  };\n};\n\nexport const logout = () => {\n  return async (dispatch) => {\n    try {\n      const { data } = await axios.post(\"/user/logout\");\n      switch (data.success) {\n        case true:\n          dispatch({\n            type: LOGOUT,\n          });\n          dispatch({\n            type: CLEAR_ALL,\n          });\n          dispatch({\n            type: SUCCESS,\n            payload: data.message,\n          });\n          break;\n        case false:\n          dispatch({\n            type: ERROR,\n            payload: data.message,\n          });\n          dispatch({\n            type: LOGOUT,\n          });\n          break;\n        default:\n          return;\n      }\n    } catch (error) {\n      dispatch({\n        type: ERROR,\n        message: \"Something went wrong!\",\n      });\n      dispatch({\n        type: LOGOUT,\n      });\n    }\n  };\n};\n","import clsx from \"clsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"styles/navbar.scss\";\nimport { MdDarkMode, MdLightMode } from \"react-icons/md\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { logout } from \"redux/actions/commonActions\";\nimport { HiOutlineMenuAlt4 } from \"react-icons/hi\";\nimport { useQuery } from \"react-query\";\nimport axios from \"axios\";\nimport { useDarkMode } from \"utils/useDarkMode\";\nexport default function Navbar() {\n  const [isDark, toggle] = useDarkMode();\n\n  const dispatch = useDispatch();\n  const { dark, isUserLoggedIn } = useSelector((state) => state.common);\n  // const { user } = useSelector((state) => state.user);\n  const [navExpanded, setNavExpanded] = useState(false);\n  const [name, setName] = useState(\"\");\n  const resize = () => {\n    if (window.innerWidth > 576) {\n      return setNavExpanded(true);\n    }\n    setNavExpanded(false);\n  };\n\n  useEffect(() => {\n    if (window.innerWidth > 576) {\n      setNavExpanded(true);\n    }\n    window.addEventListener(\"resize\", resize);\n\n    return () => {\n      window.removeEventListener(\"resize\", null);\n    };\n  }, []);\n  const query = useQuery(\"userData\", () => axios.get(\"/user/fetchUserInfo\"), {\n    onSuccess: ({ data }) => setName(data.details.name),\n    enabled: Boolean(isUserLoggedIn),\n  });\n\n  return (\n    <div\n      className={clsx(\n        \"navbar px-1 px-md-4 py-2\",\n        dark ? \"navbar_dark\" : \"navbar_light\"\n      )}\n    >\n      <div className=\"container\">\n        <Link to=\"/\" className=\"navbar-brand\">\n          Blog\n        </Link>\n        <button\n          className=\"menu-btn btn d-sm-none\"\n          onClick={() => setNavExpanded(!navExpanded)}\n        >\n          <HiOutlineMenuAlt4 className=\"menu-btn-icon\" />\n        </button>\n        {navExpanded && (\n          <ul\n            className={clsx(\n              \"navbar-nav  flex-row align-items-center\",\n              navExpanded && \"expanded\"\n            )}\n          >\n            {isUserLoggedIn ? (\n              <>\n                <li className=\"nav-item me-3\">\n                  <Link\n                    to=\"/create-post\"\n                    className=\"cta nav-link btn btn-primary px-2\"\n                  >\n                    Create post\n                  </Link>\n                </li>\n                <li className=\"nav-item me-3\">\n                  <Link to=\"/profile\" className=\"nav-link p-2 profile-link\">\n                    <img\n                      src=\"https://avatars.dicebear.com/api/male/john.svg?mood[]=happy\"\n                      alt=\"\"\n                    />\n                    <span>{name ? name.split(\" \")[0] : \"Loading\"}</span>\n                  </Link>\n                </li>\n                <li\n                  className=\"nav-item me-3\"\n                  role=\"button\"\n                  onClick={() => dispatch(logout())}\n                >\n                  <button className=\"nav-link btn btn-link  px-2\">\n                    Logout\n                  </button>\n                </li>\n              </>\n            ) : (\n              <>\n                <li className=\"nav-item me-3\">\n                  <Link to=\"/login\" className=\"nav-link btn btn-link px-2\">\n                    Login\n                  </Link>\n                </li>\n                <li className=\"nav-item me-3\">\n                  <Link\n                    to=\"/register\"\n                    className=\"cta nav-link btn btn-primary  px-2\"\n                  >\n                    Register\n                  </Link>\n                </li>\n              </>\n            )}\n            <li\n              className=\"nav-item  dark-mode-switch\"\n              // role=\"button\"\n              onClick={toggle}\n            >\n              {dark ? (\n                <MdLightMode className=\"icon\" />\n              ) : (\n                <MdDarkMode className=\"icon\" />\n              )}\n            </li>\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Redirect, Route } from \"react-router\";\n\nexport default function ProtectedRoute({ component: Component, ...rest }) {\n  const { isUserLoggedIn } = useSelector((state) => state.common);\n\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        !isUserLoggedIn ? <Redirect to=\"/login\" /> : <Component {...props} />\n      }\n    />\n  );\n}\n","import React, { Suspense, useState } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Navbar from \"./components/Navbar\";\nimport ProtectedRoute from \"components/ProtectedRoute\";\nimport clsx from \"clsx\";\nimport \"styles/app.scss\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  BrowserRouter as Router,\n  HashRouter,\n  Route,\n  Switch,\n} from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport { useAlert } from \"react-alert\";\nimport {\n  INFO,\n  CLEAR_ALERT,\n  ERROR,\n  SUCCESS,\n  AUTHENTICATED,\n  NOT_AUTHENTICATED,\n} from \"redux/constants\";\nimport Cookies from \"js-cookie\";\nimport Loading from \"components/Loading\";\nimport Error404 from \"components/Error404\";\nconst Homepage = React.lazy(() => import(\"components/Homepage\"));\nconst Post = React.lazy(() => import(\"components/Post\"));\nconst Register = React.lazy(() => import(\"components/Register\"));\nconst Login = React.lazy(() => import(\"components/Login\"));\nconst CreatePost = React.lazy(() => import(\"components/CreatePost\"));\nconst Profile = React.lazy(() => import(\"components/Profile\"));\nfunction App() {\n  const alert = useAlert();\n  const dispatch = useDispatch();\n  const { dark } = useSelector((state) => state.common);\n  const { type, message } = useSelector((state) => state.alert);\n  const alertOnClose = () => {\n    dispatch({ type: CLEAR_ALERT });\n  };\n\n  const [authenticated, setAuthenticated] = useState(() =>\n    Boolean(Number(Cookies.get(\"isUserLoggedIn\")))\n  );\n  useEffect(() => {\n    if (!authenticated) {\n      return dispatch({\n        type: NOT_AUTHENTICATED,\n        // type: AUTHENTICATED,\n      });\n    } else {\n      return dispatch({\n        type: AUTHENTICATED,\n      });\n    }\n  }, [authenticated]);\n\n  useEffect(() => {\n    switch (type) {\n      case SUCCESS:\n        alert.success(message, {\n          onClose: alertOnClose,\n        });\n        break;\n      case ERROR:\n        alert.error(message, {\n          onClose: alertOnClose,\n        });\n        break;\n      case INFO:\n        alert.info(message, {\n          onClose: alertOnClose,\n        });\n        break;\n      default:\n        break;\n    }\n  }, [type, message]);\n\n  return (\n    <HashRouter>\n      <div className={clsx(\"app\", dark ? \"app_dark\" : \"app_light\")}>\n        <Navbar />\n\n        <Suspense fallback={<Loading />}>\n          <Switch>\n            <Route path=\"/\" exact component={Homepage} />\n            <Route path=\"/post/:id\" component={Post} />\n            <Route path=\"/register\" component={Register} />\n            <Route path=\"/login\" component={Login} />\n            <ProtectedRoute path=\"/create-post\" component={CreatePost} />\n            <ProtectedRoute path=\"/profile\" component={Profile} />\n            <Route path=\"*\" component={Error404} />\n          </Switch>\n        </Suspense>\n      </div>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import { CLEAR_ALERT, ERROR, INFO, SUCCESS } from \"redux/constants\";\n\nconst alertReducer = (state = { type: null, message: null }, action) => {\n  switch (action.type) {\n    case ERROR:\n      return {\n        ...state,\n        type: ERROR,\n        message: action.payload,\n      };\n    case INFO:\n      return {\n        ...state,\n        type: INFO,\n        message: action.payload,\n      };\n    case SUCCESS:\n      return {\n        ...state,\n        type: SUCCESS,\n        message: action.payload,\n      };\n    case CLEAR_ALERT:\n      return {\n        type: null,\n        message: null,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default alertReducer;\n","const {\n  TOGGLE_DARK_MODE,\n  AUTHENTICATED,\n  NOT_AUTHENTICATED,\n  LOADING_ON,\n  LOADING_OFF,\n  LOGOUT,\n} = require(\"redux/constants\");\n\nconst commonReducer = (\n  state = { dark: false, isUserLoggedIn: null },\n  action\n) => {\n  switch (action.type) {\n    case TOGGLE_DARK_MODE:\n      return {\n        ...state,\n        dark: action.payload,\n      };\n    case LOADING_ON:\n      return {\n        ...state,\n        loading: true,\n      };\n\n    case LOADING_OFF:\n      return {\n        ...state,\n        loading: false,\n      };\n\n    case AUTHENTICATED:\n      return {\n        ...state,\n        isUserLoggedIn: true,\n      };\n\n    case NOT_AUTHENTICATED:\n      return {\n        ...state,\n        isUserLoggedIn: false,\n      };\n    case LOGOUT:\n      return {\n        ...state,\n        isUserLoggedIn: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default commonReducer;\n","const {\n  FETCH_POST_SUCCESS,\n  FETCH_POST_FAILURE,\n  CLEAR_ALL,\n  FETCH_A_POST_SUCCESS,\n} = require(\"redux/constants\");\n\nconst postReducer = (\n  state = {\n    fetchedPosts: [],\n    userPosts: [],\n    visitedPosts: [],\n  },\n  action\n) => {\n  switch (action.type) {\n    case CLEAR_ALL:\n      return {\n        fetchedPosts: [],\n        profilePosts: [],\n        userPosts: [],\n        visitedPosts: [],\n      };\n    case FETCH_POST_SUCCESS:\n      return {\n        ...state,\n        fetchedPosts: [\n          // ...state.fetchedPosts,\n          ...action.payload,\n        ],\n      };\n    case FETCH_POST_FAILURE:\n      return state;\n\n    case FETCH_A_POST_SUCCESS:\n      return {\n        ...state,\n        visitedPosts: [...state.visitedPosts, action.payload],\n      };\n    default:\n      return state;\n  }\n};\n\nexport default postReducer;\n","const {\n  FETCH_USER_INFO_SUCCESS,\n  FETCH_USER_INFO_FAILURE,\n  CLEAR_ALL,\n} = require(\"redux/constants\");\n\nconst userReducer = (state = {}, action) => {\n  switch (action.type) {\n    case CLEAR_ALL:\n      return {};\n    case FETCH_USER_INFO_SUCCESS:\n      return {\n        ...state,\n        user: action.payload,\n      };\n    case FETCH_USER_INFO_FAILURE:\n      return state;\n\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;\n","import { combineReducers } from \"redux\";\nimport alertReducer from \"./alertReducer\";\nimport commonReducer from \"./commonReducer\";\nimport postReducer from \"./postReducer\";\nimport userReducer from \"./userReducer\";\n\nconst rootReducer = combineReducers({\n  common: commonReducer,\n  alert: alertReducer,\n  post: postReducer,\n  user: userReducer,\n});\nexport default rootReducer;\n","import { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport rootReducer from \"redux/reducers/rootReducer\";\n\nconst middleware = [thunk];\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(...middleware))\n);\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"redux/store\";\nimport axios from \"axios\";\nimport { transitions, positions, Provider as AlertProvider } from \"react-alert\";\nimport AlertTemplate from \"react-alert-template-basic\";\nimport { QueryClientProvider, QueryClient } from \"react-query\";\nconst isProduction = process.env.REACT_APP_NODE_ENV === \"production\";\n\naxios.defaults.baseURL = isProduction\n  ? \"https://abhishekram404-blog-simple.herokuapp.com/api/\"\n  : \"http://localhost:4000/api/\";\n\naxios.defaults.withCredentials = true;\nconst queryClient = new QueryClient();\nReactDOM.render(\n  <React.StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <Provider store={store}>\n        <AlertProvider\n          transition={transitions.FADE}\n          position={positions.BOTTOM_LEFT}\n          template={AlertTemplate}\n          timeout={5000}\n          offset=\"30px\"\n        >\n          <App />\n        </AlertProvider>\n      </Provider>\n    </QueryClientProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import clsx from \"clsx\";\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport \"styles/loading.scss\";\nexport default function Loading() {\n  const { dark } = useSelector((state) => state.common);\n  return (\n    <div\n      className={clsx(\"loader\", dark ? \"loader-dark\" : \"loader-light\")}\n    ></div>\n  );\n}\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nexport default function Error404() {\n  const history = useHistory();\n  const goback = () => history.goBack();\n  return (\n    <div className=\"error-page\">\n      <div className=\"container\">\n        <h1>Error 404 !</h1>\n        <h4>The page that you requested was not found. </h4>\n        <button className=\"btn btn-primary mt-3\" onClick={goback}>\n          Go to previous page\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"sourceRoot":""}
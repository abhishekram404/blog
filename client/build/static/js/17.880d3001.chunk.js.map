{"version":3,"sources":["components/Drafts.js"],"names":["DraftItem","React","lazy","Drafts","dark","useSelector","state","common","ownId","Cookies","get","useQuery","axios","params","profile","data","isError","isSuccess","error","refetchDrafts","refetch","details","console","log","className","clsx","fallback","length","map","post","title","id","_id"],"mappings":"+FAAA,qJAQMA,EAAYC,IAAMC,MAAK,kBAAM,kCACpB,SAASC,IACtB,IAAQC,EAASC,aAAY,SAACC,GAAD,OAAWA,EAAMC,UAAtCH,KACFI,EAAQC,IAAQC,IAAI,UAE1B,EAMIC,mBAAS,cAAc,kBACzBC,IAAMF,IAAN,oBAA+B,CAC7BG,OAAQ,CACNC,QAASN,QARbO,EADF,EACEA,KACAC,EAFF,EAEEA,QACAC,EAHF,EAGEA,UACAC,EAJF,EAIEA,MACSC,EALX,EAKEC,QAiBF,OARIH,IACFF,EAAOA,EAAKA,KAAKM,SAGfL,GACFM,QAAQC,IAAIL,GAIZ,sBAAKM,UAAWC,YAAK,WAAYrB,EAAO,cAAgB,gBAAxD,UACE,wCACA,qBAAKoB,UAAU,kBAAf,SACE,cAAC,WAAD,CAAUE,SAAU,cAAC,IAAD,IAApB,SACGT,GAAaF,EAAKY,OAAS,EAC1BZ,EAAKa,KAAI,SAACC,GAAD,OACP,cAAC7B,EAAD,CACE8B,MAAOD,EAAKC,MACZC,GAAIF,EAAKG,IACTb,cAAeA,GACVU,EAAKG,QAId,oD","file":"static/js/17.880d3001.chunk.js","sourcesContent":["import clsx from \"clsx\";\nimport React, { Suspense } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport Loading from \"./Loading\";\nimport \"styles/drafts.scss\";\nimport { useQuery } from \"react-query\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\nconst DraftItem = React.lazy(() => import(\"./DraftItem\"));\nexport default function Drafts() {\n  const { dark } = useSelector((state) => state.common);\n  const ownId = Cookies.get(\"userId\");\n\n  let {\n    data,\n    isError,\n    isSuccess,\n    error,\n    refetch: refetchDrafts,\n  } = useQuery(\"draftPosts\", () =>\n    axios.get(`/post/fetchDrafts`, {\n      params: {\n        profile: ownId,\n      },\n    })\n  );\n\n  if (isSuccess) {\n    data = data.data.details;\n  }\n\n  if (isError) {\n    console.log(error);\n  }\n\n  return (\n    <div className={clsx(\"drafts  \", dark ? \"drafts-dark\" : \"drafts-light\")}>\n      <h3>Drafts</h3>\n      <div className=\"drafts-list p-2\">\n        <Suspense fallback={<Loading />}>\n          {isSuccess && data.length > 0 ? (\n            data.map((post) => (\n              <DraftItem\n                title={post.title}\n                id={post._id}\n                refetchDrafts={refetchDrafts}\n                key={post._id}\n              />\n            ))\n          ) : (\n            <h3>No drafts</h3>\n          )}\n        </Suspense>\n      </div>\n    </div>\n  );\n}\n"],"sourceRoot":""}
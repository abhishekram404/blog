{"version":3,"sources":["../node_modules/webpack/buildin/module.js","components/Login.js"],"names":["module","exports","webpackPolyfill","deprecate","paths","children","Object","defineProperty","enumerable","get","l","i","Login","useState","isSubmitting","setSubmitting","dispatch","useDispatch","useSelector","state","common","dark","isUserLoggedIn","loginSchema","Yup","email","required","password","handleSubmit","values","a","axios","post","data","success","type","AUTHENTICATED","SUCCESS","payload","message","NOT_AUTHENTICATED","ERROR","response","to","className","clsx","initialValues","validationSchema","onSubmit","errors","touched","htmlFor","name"],"mappings":"+EAAAA,EAAOC,QAAU,SAASD,GAoBzB,OAnBKA,EAAOE,kBACXF,EAAOG,UAAY,aACnBH,EAAOI,MAAQ,GAEVJ,EAAOK,WAAUL,EAAOK,SAAW,IACxCC,OAAOC,eAAeP,EAAQ,SAAU,CACvCQ,YAAY,EACZC,IAAK,WACJ,OAAOT,EAAOU,KAGhBJ,OAAOC,eAAeP,EAAQ,KAAM,CACnCQ,YAAY,EACZC,IAAK,WACJ,OAAOT,EAAOW,KAGhBX,EAAOE,gBAAkB,GAEnBF,I,oOCLO,SAASY,IACtB,MAAsCC,oBAAS,GAA/C,mBAAOC,EAAP,KAAqBC,EAArB,KAEMC,EAAWC,cACjB,EAAiCC,aAAY,SAACC,GAAD,OAAWA,EAAMC,UAAtDC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,eACRC,EAAcC,IAAW,CAC7BC,MAAOD,MAAaC,MAAM,iBAAiBC,SAAS,YACpDC,SAAUH,MAAaE,SAAS,cAI5BE,EAAY,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,sEAEjBf,GAAc,GAFG,SAGMgB,IAAMC,KAAK,cAAeH,GAHhC,gBAGTI,EAHS,EAGTA,KACRlB,GAAc,GAJG,KAMTkB,EAAKC,QANI,QAOV,IAPU,SAUV,IAVU,gCAQblB,EAAS,CAAEmB,KAAMC,kBARJ,kBASNpB,EAAS,CAAEmB,KAAME,UAASC,QAASL,EAAKM,WATlC,eAWbvB,EAAS,CAAEmB,KAAMK,sBAXJ,kBAYNxB,EAAS,CAAEmB,KAAMM,QAAOH,QAASL,EAAKM,WAZhC,eAcbvB,EAAS,CAAEmB,KAAMK,sBAdJ,kBAeNxB,EAAS,CAAEmB,KAAMM,QAAOH,QAAS,2BAf3B,0DAkBjBvB,GAAc,GACdC,EAAS,CAAEmB,KAAMK,sBACjBxB,EAAS,CAAEmB,KAAMM,QAAOH,QAAS,KAAMI,SAAST,KAAKM,UApBpC,0DAAH,sDAwBlB,OAAIjB,EACK,cAAC,IAAD,CAAUqB,GAAG,MAIpB,qBACEC,UAAWC,YACT,4BACAxB,EAAO,gBAAkB,kBAH7B,SAME,qBAAKuB,UAAU,YAAf,SACE,cAAC,IAAD,CACEE,cAtCc,CAAErB,MAAO,GAAIE,SAAU,IAuCrCoB,iBAAkBxB,EAClByB,SAAUpB,EAHZ,SAKG,SAACqB,EAAQC,GAAT,OACC,eAAC,IAAD,CAAMN,UAAWC,YAAK,WAAY/B,GAAgB,YAAlD,UACE,oBAAI8B,UAAU,cAAd,mBAEA,sBAAKA,UAAU,OAAf,UACE,wBAAOO,QAAQ,QAAQP,UAAU,aAAjC,mBACQ,sBAAMA,UAAU,cAAhB,kBAER,cAAC,IAAD,CACEQ,KAAK,QACLjB,KAAK,QACLS,UAAU,2BACVlB,UAAU,IAEZ,uBAAOkB,UAAU,4BAAjB,SACE,cAAC,IAAD,CAAcQ,KAAK,eAGvB,sBAAKR,UAAU,OAAf,UACE,wBAAOO,QAAQ,WAAWP,UAAU,aAApC,sBACW,sBAAMA,UAAU,cAAhB,kBAEX,cAAC,IAAD,CACET,KAAK,WACLiB,KAAK,WACLR,UAAU,2BACVlB,UAAU,IAEZ,uBAAOkB,UAAU,4BAAjB,SACE,cAAC,IAAD,CAAcQ,KAAK,kBAIvB,wBAAQjB,KAAK,SAASS,UAAU,6BAAhC,SACG9B,EAAe,aAAe","file":"static/js/9.e9f1d2eb.chunk.js","sourcesContent":["module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import React, { useState } from \"react\";\nimport \"styles/register.scss\";\nimport clsx from \"clsx\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport axios from \"axios\";\nimport {\n  AUTHENTICATED,\n  NOT_AUTHENTICATED,\n  ERROR,\n  SUCCESS,\n} from \"redux/constants\";\nimport { Redirect } from \"react-router\";\n\nexport default function Login() {\n  const [isSubmitting, setSubmitting] = useState(false);\n\n  const dispatch = useDispatch();\n  const { dark, isUserLoggedIn } = useSelector((state) => state.common);\n  const loginSchema = Yup.object({\n    email: Yup.string().email(\"Invalid email\").required(\"Required\"),\n    password: Yup.string().required(\"Required\"),\n  });\n\n  const initialValues = { email: \"\", password: \"\" };\n  const handleSubmit = async (values) => {\n    try {\n      setSubmitting(true);\n      const { data } = await axios.post(\"/user/login\", values);\n      setSubmitting(false);\n\n      switch (data.success) {\n        case true:\n          dispatch({ type: AUTHENTICATED });\n          return dispatch({ type: SUCCESS, payload: data.message });\n        case false:\n          dispatch({ type: NOT_AUTHENTICATED });\n          return dispatch({ type: ERROR, payload: data.message });\n        default:\n          dispatch({ type: NOT_AUTHENTICATED });\n          return dispatch({ type: ERROR, payload: \"Something went wrong!\" });\n      }\n    } catch (error) {\n      setSubmitting(false);\n      dispatch({ type: NOT_AUTHENTICATED });\n      dispatch({ type: ERROR, payload: error.response.data.message });\n    }\n  };\n\n  if (isUserLoggedIn) {\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <div\n      className={clsx(\n        \"register py-4 px-1 p-md-4\",\n        dark ? \"register_dark\" : \"register_light\"\n      )}\n    >\n      <div className=\"container\">\n        <Formik\n          initialValues={initialValues}\n          validationSchema={loginSchema}\n          onSubmit={handleSubmit}\n        >\n          {(errors, touched) => (\n            <Form className={clsx(\"card p-4\", isSubmitting && \"disabled\")}>\n              <h2 className=\"text-center\">Login</h2>\n\n              <div className=\"mb-3\">\n                <label htmlFor=\"email\" className=\"form-label\">\n                  Email <span className=\"text-danger\">*</span>\n                </label>\n                <Field\n                  name=\"email\"\n                  type=\"email\"\n                  className=\"form-control shadow-none\"\n                  required={true}\n                />\n                <small className=\"error-message text-danger\">\n                  <ErrorMessage name=\"email\" />\n                </small>\n              </div>\n              <div className=\"mb-3\">\n                <label htmlFor=\"password\" className=\"form-label\">\n                  Password <span className=\"text-danger\">*</span>\n                </label>\n                <Field\n                  type=\"password\"\n                  name=\"password\"\n                  className=\"form-control shadow-none\"\n                  required={true}\n                />\n                <small className=\"error-message text-danger\">\n                  <ErrorMessage name=\"password\" />\n                </small>\n              </div>\n\n              <button type=\"submit\" className=\"submit-btn btn btn-primary\">\n                {isSubmitting ? \"Logging In\" : \"Login\"}\n              </button>\n            </Form>\n          )}\n        </Formik>\n      </div>\n    </div>\n  );\n}\n"],"sourceRoot":""}
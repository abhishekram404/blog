(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[15],{122:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var c=n(34),s=n(28),a=n.n(s),r=n(18).default,l=n(8),i=l.FETCH_POST_SUCCESS,o=l.FETCH_POST_FAILURE,j=l.INFO,b=l.FETCH_PROFILE_POST_SUCCESS,d=l.FETCH_PROFILE_POST_FAILURE,u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){var t=Object(c.a)(a.a.mark((function t(n){var c,s,l,b,d;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/post/fetchHomepagePosts?skip="+e);case 2:return c=t.sent,s=c.data,t.next=6,s;case 6:l=t.sent,b=l.success,d=l.details,console.log(b,d),t.t0=b,t.next=!0===t.t0?13:!1===t.t0?14:15;break;case 13:return t.abrupt("return",n({type:i,payload:d}));case 14:return t.abrupt("return",n({type:o}));case 15:return t.abrupt("return",n({type:j,payload:"Something went wrong while fetching the posts."}));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){var t=e.skip,n=e.profile;return function(){var e=Object(c.a)(a.a.mark((function e(c){var s,l,i,o,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get("/post/fetchProfilePosts",{params:{skip:t,profile:n}});case 2:return s=e.sent,l=s.data,e.next=6,l;case 6:i=e.sent,o=i.success,u=i.details,console.log(u),e.t0=o,e.next=!0===e.t0?13:!1===e.t0?14:15;break;case 13:return e.abrupt("return",c({type:b,payload:u}));case 14:return e.abrupt("return",c({type:d}));case 15:return e.abrupt("return",c({type:j,payload:"Something went wrong while fetching the posts."}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},322:function(e,t,n){},347:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var c=n(1),s=n.n(c),a=n(15),r=n(11),l=n(324),i=n(119),o=(n(322),n(105)),j=n(5),b=n(14),d=n(33),u=n(323),h=n.n(u),p=n(122),O=n(2),x=s.a.lazy((function(){return Promise.all([n.e(1),n.e(20)]).then(n.bind(null,329))})),f=s.a.lazy((function(){return Promise.all([n.e(0),n.e(3),n.e(5)]).then(n.bind(null,138))})),m=s.a.lazy((function(){return Promise.resolve().then(n.bind(null,47))})),v=s.a.lazy((function(){return n.e(23).then(n.bind(null,331))})),g=s.a.lazy((function(){return n.e(19).then(n.bind(null,333))})),k=s.a.lazy((function(){return n.e(30).then(n.bind(null,335))})),y=s.a.lazy((function(){return n.e(28).then(n.bind(null,336))})),N=s.a.lazy((function(){return n.e(29).then(n.bind(null,337))})),w=s.a.lazy((function(){return Promise.all([n.e(7),n.e(22)]).then(n.bind(null,180))}));function S(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.common})).dark,n=Object(r.c)((function(e){return e.user})).user,s=Object(r.c)((function(e){return e.post})).profilePosts,u=Object(j.i)().url;return Object(c.useEffect)((function(){e(Object(p.b)({skip:s.length,profile:n.username}))}),[]),Object(O.jsxs)(j.d,{children:[Object(O.jsx)("div",{className:Object(a.a)("profile py-4 px-1 p-md-4",t?"profile_dark":"profile_light"),children:Object(O.jsx)("div",{className:"container mx-auto",children:Object(O.jsxs)("div",{className:"row g-5 justify-content-between ",children:[Object(O.jsxs)("div",{className:"col-12 main-section col-md-9",children:[Object(O.jsx)(j.b,{path:"".concat(u,"/"),exact:!0,children:Object(O.jsxs)(c.Suspense,{fallback:Object(O.jsx)(d.a,{}),children:[Object(O.jsxs)("div",{className:"profile-section  p-3",children:[Object(O.jsx)("div",{className:"avatar-section",children:Object(O.jsx)("img",{src:"https://avatars.dicebear.com/api/male/john.svg?mood[]=happy",alt:""})}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{className:"details-section",children:[Object(O.jsx)("h3",{children:n.name?n.name:"No name"}),Object(O.jsx)("div",{className:"username",children:n.username?"@".concat(n.username):"No username"}),Object(O.jsx)("div",{className:"bio",children:n.bio?n.bio:Object(O.jsx)(b.b,{to:"/edit",className:"btn-link",children:"Add bio"})}),Object(O.jsxs)("div",{className:"connections",children:[Object(O.jsx)(l.a,{className:"icon"})," \xa0",Object(O.jsx)("b",{children:n.followers?n.followers.length:0})," ","\xa0 followers \xa0 \u2022 \xa0",Object(O.jsx)("b",{children:n.following?n.following.length:0}),"\xa0 following"]}),Object(O.jsxs)("div",{className:"address",children:[Object(O.jsx)(i.b,{className:"icon"}),n.address?"Lives in ".concat(n.address):Object(O.jsx)(b.b,{to:"".concat(u,"/edit"),className:"btn-link",children:"Add address"})]}),null!==n&&void 0!==n&&n.joined?Object(O.jsxs)("div",{className:"joined",children:[Object(O.jsx)(o.c,{className:"icon"})," Joined \xa0",h()(n.joined).startOf("min").fromNow(),"\xa0 (",h()(n.joined).format("ll"),")"]}):null,Object(O.jsx)(b.b,{to:"".concat(u,"/edit"),className:"edit-profile-btn btn btn-sm btn-light px-4 d-inline",children:"Edit profile"})]})]}),Object(O.jsxs)("div",{className:" profile-feed-section  p-3",children:[Object(O.jsx)("h4",{children:"My posts"}),Object(O.jsx)(c.Suspense,{fallback:Object(O.jsx)(d.a,{}),children:s&&s.length>0?s.map((function(e){return Object(O.jsx)(f,{title:e.title,content:e.content,likes:e.likes.length,comments:e.comments.length,category:e.category,author:e.author},e._id)})):Object(O.jsx)("h4",{children:"No posts "})})]})]})}),Object(O.jsx)(j.b,{path:"".concat(u,"/edit"),children:Object(O.jsx)(c.Suspense,{fallback:Object(O.jsx)(d.a,{}),children:Object(O.jsx)(x,{})})}),Object(O.jsx)(j.b,{path:"".concat(u,"/posts"),children:Object(O.jsx)(c.Suspense,{fallback:Object(O.jsx)(d.a,{}),children:Object(O.jsx)(v,{})})}),Object(O.jsx)(j.b,{path:"".concat(u,"/drafts"),children:Object(O.jsx)(c.Suspense,{fallback:Object(O.jsx)(d.a,{}),children:Object(O.jsx)(g,{})})}),Object(O.jsx)(j.b,{path:"".concat(u,"/saved"),children:Object(O.jsx)(c.Suspense,{fallback:Object(O.jsx)(d.a,{}),children:Object(O.jsx)(k,{})})}),Object(O.jsx)(j.b,{path:"".concat(u,"/followers"),children:Object(O.jsx)(c.Suspense,{fallback:Object(O.jsx)(d.a,{}),children:Object(O.jsx)(y,{})})}),Object(O.jsx)(j.b,{path:"".concat(u,"/following"),children:Object(O.jsx)(c.Suspense,{fallback:Object(O.jsx)(d.a,{}),children:Object(O.jsx)(N,{})})})]}),Object(O.jsxs)("div",{className:"sidebar-section col-md-3 p-3 d-none d-md-block",children:["Quick links",Object(O.jsx)("hr",{className:"mt-2 mb-3"}),Object(O.jsx)(c.Suspense,{fallback:Object(O.jsx)(d.a,{}),children:Object(O.jsx)(w,{})})]})]})})}),Object(O.jsx)(j.b,{path:"".concat(u,"/*"),children:Object(O.jsx)(c.Suspense,{fallback:Object(O.jsx)(d.a,{}),children:Object(O.jsx)(m,{})})})]})}}}]);
//# sourceMappingURL=15.2c17da7a.chunk.js.map
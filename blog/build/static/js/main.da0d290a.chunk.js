(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[8],{33:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(15),c=(n(1),n(11)),a=(n(90),n(2));function s(){var e=Object(c.c)((function(e){return e.common})).dark;return Object(a.jsx)("div",{className:Object(r.a)("loader",e?"loader-dark":"loader-light")})}},47:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));n(1);var r=n(5),c=n(2);function a(){var e=Object(r.g)();return Object(c.jsx)("div",{className:"error-page",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h1",{children:"Error 404 !"}),Object(c.jsx)("h4",{children:"The page that you requested was not found. "}),Object(c.jsx)("button",{className:"btn btn-primary mt-3",onClick:function(){return e.goBack()},children:"Go to previous page"})]})})}},60:function(e,t,n){},62:function(e,t,n){},8:function(e,t,n){"use strict";n.r(t),n.d(t,"TOGGLE_DARK_MODE",(function(){return r})),n.d(t,"SEND_REGISTER_REQUEST",(function(){return c})),n.d(t,"REGISTER_SUCCESSFUL",(function(){return a})),n.d(t,"REGISTER_FAILED",(function(){return s})),n.d(t,"ERROR",(function(){return o})),n.d(t,"SUCCESS",(function(){return i})),n.d(t,"INFO",(function(){return u})),n.d(t,"CLEAR_ALERT",(function(){return l})),n.d(t,"GET_AUTH_DATA",(function(){return O})),n.d(t,"AUTHENTICATED",(function(){return b})),n.d(t,"NOT_AUTHENTICATED",(function(){return j})),n.d(t,"LOADING_ON",(function(){return d})),n.d(t,"LOADING_OFF",(function(){return E})),n.d(t,"LOGOUT",(function(){return p})),n.d(t,"FETCH_POST_SUCCESS",(function(){return f})),n.d(t,"FETCH_POST_FAILURE",(function(){return m})),n.d(t,"FETCH_USER_INFO_SUCCESS",(function(){return _})),n.d(t,"FETCH_USER_INFO_FAILURE",(function(){return T})),n.d(t,"FETCH_PROFILE_POST_SUCCESS",(function(){return S})),n.d(t,"FETCH_PROFILE_POST_FAILURE",(function(){return h})),n.d(t,"CLEAR_ALL",(function(){return C}));var r="TOGGLE_DARK_MODE",c="SEND_REGISTER_REQUEST",a="REGISTER_SUCCESSFUL",s="REGISTER_FAILED",o="ERROR",i="SUCCESS",u="INFO",l="CLEAR_ALERT",O="GET_AUTH_DATA",b="AUTHENTICATED",j="NOT_AUTHENTICATED",d="LOADING_ON",E="LOADING_OFF",p="LOGOUT",f="FETCH_POST_SUCCESS",m="FETCH_POST_FAILURE",_="FETCH_USER_INFO_SUCCESS",T="FETCH_USER_INFO_FAILURE",S="FETCH_PROFILE_POST_SUCCESS",h="FETCH_PROFILE_POST_FAILURE",C="CLEAR_ALL"},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(13),s=n.n(a),o=(n(60),n(21)),i=(n(61),n(15)),u=n(14),l=(n(62),n(29)),O=n(11),b=n(34),j=n(28),d=n.n(j),E=n(18),p=n.n(E),f=n(8),m=f.TOGGLE_DARK_MODE,_=f.LOGOUT,T=f.SUCCESS,S=f.ERROR,h=f.CLEAR_ALL,C=n(36),R=(n(86),n(2));function L(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.common})),n=t.dark,c=t.isUserLoggedIn,a=Object(O.c)((function(e){return e.user})).user,s=Object(r.useState)(!1),j=Object(o.a)(s,2),E=j[0],f=j[1],L=function(){if(window.innerWidth>576)return f(!0);f(!1)};return Object(r.useEffect)((function(){return window.innerWidth>576&&f(!0),window.addEventListener("resize",L),function(){window.removeEventListener("resize",null)}}),[]),Object(R.jsx)("div",{className:Object(i.a)("navbar px-1 px-md-4 py-2",n?"navbar_dark":"navbar_light"),children:Object(R.jsxs)("div",{className:"container",children:[Object(R.jsx)(u.b,{to:"/",className:"navbar-brand",children:"Blog"}),Object(R.jsx)("button",{className:"menu-btn btn d-sm-none",onClick:function(){return f(!E)},children:Object(R.jsx)(C.c,{className:"menu-btn-icon"})}),E&&Object(R.jsxs)("ul",{className:Object(i.a)("navbar-nav  flex-row align-items-center",E&&"expanded"),children:[c?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("li",{className:"nav-item me-3",children:Object(R.jsx)(u.b,{to:"/create-post",className:"cta nav-link btn btn-primary px-2",children:"Create post"})}),Object(R.jsx)("li",{className:"nav-item me-3",children:Object(R.jsxs)(u.b,{to:"/profile",className:"nav-link p-2 profile-link",children:[Object(R.jsx)("img",{src:"https://avatars.dicebear.com/api/male/john.svg?mood[]=happy",alt:""}),Object(R.jsx)("span",{children:null!==a&&void 0!==a&&a.name?a.name.split(" ")[0]:null})]})}),Object(R.jsx)("li",{className:"nav-item me-3",role:"button",onClick:function(){return e(function(){var e=Object(b.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("/user/logout");case 3:n=e.sent,r=n.data,e.t0=r.success,e.next=!0===e.t0?8:!1===e.t0?12:15;break;case 8:return t({type:_}),t({type:h}),t({type:T,payload:r.message}),e.abrupt("break",16);case 12:return t({type:S,payload:r.message}),t({type:_}),e.abrupt("break",16);case 15:return e.abrupt("return");case 16:e.next=22;break;case 18:e.prev=18,e.t1=e.catch(0),t({type:S,message:"Something went wrong!"}),t({type:_});case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}())},children:Object(R.jsx)("button",{className:"nav-link btn btn-link  px-2",children:"Logout"})})]}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("li",{className:"nav-item me-3",children:Object(R.jsx)(u.b,{to:"/login",className:"nav-link btn btn-link px-2",children:"Login"})}),Object(R.jsx)("li",{className:"nav-item me-3",children:Object(R.jsx)(u.b,{to:"/register",className:"cta nav-link btn btn-primary  px-2",children:"Register"})})]}),Object(R.jsx)("li",{className:"nav-item  dark-mode-switch",onClick:function(){return e({type:m})},children:n?Object(R.jsx)(l.b,{className:"icon"}):Object(R.jsx)(l.a,{className:"icon"})})]})]})})}var x=n(4),A=n(50),g=n(5),v=["component"];function N(e){var t=e.component,n=Object(A.a)(e,v),r=Object(O.c)((function(e){return e.common})).isUserLoggedIn;return Object(R.jsx)(g.b,Object(x.a)(Object(x.a)({},n),{},{render:function(e){return r?Object(R.jsx)(t,Object(x.a)({},e)):Object(R.jsx)(g.a,{to:"/login"})}}))}n(89);var F=n(17),U=n(8),I=n(51),y=n.n(I),k=n(33),P=n(47),D=c.a.lazy((function(){return n.e(13).then(n.bind(null,351))})),H=c.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,187))})),G=c.a.lazy((function(){return Promise.all([n.e(1),n.e(16)]).then(n.bind(null,349))})),w=c.a.lazy((function(){return Promise.all([n.e(1),n.e(14)]).then(n.bind(null,345))})),z=c.a.lazy((function(){return Promise.all([n.e(2),n.e(1),n.e(4),n.e(11),n.e(17)]).then(n.bind(null,346))})),M=c.a.lazy((function(){return Promise.all([n.e(2),n.e(4),n.e(25),n.e(15)]).then(n.bind(null,347))}));var B=function(){var e=Object(F.d)(),t=Object(O.b)(),n=Object(O.c)((function(e){return e.common})).dark,c=Object(O.c)((function(e){return e.alert})),a=c.type,s=c.message,l=function(){t({type:U.CLEAR_ALERT})},b=Object(r.useState)((function(){return Boolean(Number(y.a.get("isUserLoggedIn")))})),j=Object(o.a)(b,2),d=j[0];return j[1],Object(r.useEffect)((function(){return t(d?{type:U.AUTHENTICATED}:{type:U.NOT_AUTHENTICATED})}),[d]),Object(r.useEffect)((function(){switch(a){case U.SUCCESS:e.success(s,{onClose:l});break;case U.ERROR:e.error(s,{onClose:l});break;case U.INFO:e.info(s,{onClose:l})}}),[a,s]),Object(R.jsx)(u.a,{children:Object(R.jsxs)("div",{className:Object(i.a)("app",n?"app_dark":"app_light"),children:[Object(R.jsx)(L,{}),Object(R.jsx)(r.Suspense,{fallback:Object(R.jsx)(k.a,{}),children:Object(R.jsxs)(g.d,{children:[Object(R.jsx)(g.b,{path:"/",exact:!0,component:D}),Object(R.jsx)(g.b,{path:"/post",component:H}),Object(R.jsx)(g.b,{path:"/register",component:G}),Object(R.jsx)(g.b,{path:"/login",component:w}),Object(R.jsx)(N,{path:"/create-post",component:z}),Object(R.jsx)(N,{path:"/profile",component:M}),Object(R.jsx)(g.b,{path:"*",component:P.default})]})})]})})},K=n(16),W=n(53),J=n(52),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:null,message:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.ERROR:return Object(x.a)(Object(x.a)({},e),{},{type:U.ERROR,message:t.payload});case U.INFO:return Object(x.a)(Object(x.a)({},e),{},{type:U.INFO,message:t.payload});case U.SUCCESS:return Object(x.a)(Object(x.a)({},e),{},{type:U.SUCCESS,message:t.payload});case U.CLEAR_ALERT:return{type:null,message:null};default:return e}},q=n(8),V=q.TOGGLE_DARK_MODE,X=q.AUTHENTICATED,Y=q.NOT_AUTHENTICATED,Z=q.LOADING_ON,$=q.LOADING_OFF,ee=q.LOGOUT,te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dark:!1,isUserLoggedIn:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(x.a)(Object(x.a)({},e),{},{dark:!e.dark});case Z:return Object(x.a)(Object(x.a)({},e),{},{loading:!0});case $:return Object(x.a)(Object(x.a)({},e),{},{loading:!1});case X:return Object(x.a)(Object(x.a)({},e),{},{isUserLoggedIn:!0});case Y:case ee:return Object(x.a)(Object(x.a)({},e),{},{isUserLoggedIn:!1});default:return e}},ne=n(30),re=n(8),ce=re.FETCH_POST_SUCCESS,ae=re.FETCH_POST_FAILURE,se=re.FETCH_PROFILE_POST_SUCCESS,oe=(re.FETCH_PROFILE_POST_FAILURE,re.CLEAR_ALL),ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fetchedPosts:[],profilePosts:[],userPosts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return{fetchedPosts:[],profilePosts:[],userPosts:[]};case ce:return Object(x.a)(Object(x.a)({},e),{},{fetchedPosts:Object(ne.a)(t.payload)});case ae:return e;case se:return Object(x.a)(Object(x.a)({},e),{},{profilePosts:Object(ne.a)(t.payload)});default:return e}},ue=n(8),le=ue.FETCH_USER_INFO_SUCCESS,Oe=(ue.FETCH_USER_INFO_FAILURE,ue.CLEAR_ALL),be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return{};case le:return Object(x.a)(Object(x.a)({},e),{},{user:t.payload});default:return e}},je=Object(K.combineReducers)({common:te,alert:Q,post:ie,user:be}),de=[W.a],Ee=Object(K.createStore)(je,Object(J.composeWithDevTools)(K.applyMiddleware.apply(void 0,de))),pe=n(54);p.a.defaults.baseURL="https://react-blog-restapi.herokuapp.com/api/",p.a.defaults.withCredentials=!0,s.a.render(Object(R.jsx)(c.a.StrictMode,{children:Object(R.jsx)(O.a,{store:Ee,children:Object(R.jsx)(F.a,{transition:F.c.FADE,position:F.b.BOTTOM_LEFT,template:pe.a,timeout:5e3,offset:"30px",children:Object(R.jsx)(B,{})})})}),document.getElementById("root"))}},[[91,9,10]]]);
//# sourceMappingURL=main.da0d290a.chunk.js.map